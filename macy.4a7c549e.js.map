{"version":3,"sources":["js/macy.js"],"names":["t","n","exports","module","define","amd","Macy","e","arguments","length","window","Promise","A","recalculate","i","useContainerForBreakpoints","container","clientWidth","innerWidth","columns","b","margin","x","y","Object","keys","breakAt","mobileFirst","r","options","responsiveOptions","o","docWidth","s","a","parseInt","O","c","parseFloat","replace","u","l","rows","v","style","height","h","nodeName","byCss","selectors","split","RegExp","test","prototype","document","querySelectorAll","getElementsByClassName","substring","getElementsByTagName","getElementById","m","running","events","add","run","shift","Array","isArray","push","clear","d","instance","data","on","emit","g","naturalHeight","naturalWidth","width","w","E","complete","addEventListener","then","constants","EVENT_IMAGE_LOAD","img","catch","EVENT_IMAGE_ERROR","all","EVENT_IMAGE_COMPLETE","I","clearTimeout","setTimeout","EVENT_RESIZE","queue","_","debug","console","error","position","N","resizer","T","useOwnImageLoader","waitForImages","EVENT_INITIALIZED","L","toString","call","C","getComputedStyle","getPropertyValue","M","lastcol","cols","tmpRows","V","children","from","filter","offsetParent","dataset","macyComplete","trueOrder","f","offsetHeight","isNaN","top","left","EVENT_RECALCULATED","p","forEach","assign","hasOwnProperty","k","useImageLoader","onInit","cancelLegacy","createElement","querySelector","getAttribute","id","Math","floor","random","apply","removeAttribute","Element","q","init","warn","recalculateOnImageLoad","runOnImageLoad","remove","removeEventListener","reInit"],"mappings":";;AAAA,IAAA,GAAC,SAASA,EAAEC,GAAa,iBAAOC,SAAS,oBAAoBC,OAAOA,OAAOD,QAAQD,IAAI,mBAAmBG,GAAQA,EAAOC,IAAID,EAAOH,GAAGD,EAAEM,KAAKL,IAA7I,CAAkJ,KAAK,WAAW,aAAyLM,SAAAA,EAAEP,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAME,GAAAA,OAAOC,QAAQ,OAAOC,EAAEZ,EAAEC,EAAEM,GAAGP,EAAEa,aAAY,GAAG,GAAoWC,SAAAA,EAAEd,GAAOC,IAAAA,EAAED,EAAEe,2BAA2Bf,EAAEgB,UAAUC,YAAYP,OAAOQ,WAAWX,EAAE,CAACY,QAAQnB,EAAEmB,SAASC,EAAEpB,EAAEqB,QAAQd,EAAEc,OAAO,CAACC,EAAEtB,EAAEqB,OAAOC,EAAEC,EAAEvB,EAAEqB,OAAOE,GAAGhB,EAAEc,OAAO,CAACC,EAAEtB,EAAEqB,OAAOE,EAAEvB,EAAEqB,QAAYP,IAAAA,EAAEU,OAAOC,KAAKzB,EAAE0B,SAAgB1B,OAAAA,EAAE2B,YAAvjBC,SAAE5B,GAAO,IAAA,IAAIC,EAAED,EAAE6B,QAAQtB,EAAEP,EAAE8B,kBAAkBF,EAAE5B,EAAEyB,KAAKM,EAAE/B,EAAEgC,SAASlB,OAAE,EAAOmB,EAAE,EAAEA,EAAEL,EAAEnB,OAAOwB,IAAI,CAAKC,IAAAA,EAAEC,SAASP,EAAEK,GAAG,IAAIF,GAAGG,IAAIpB,EAAEb,EAAEyB,QAAQQ,GAAGE,EAAEtB,EAAEP,IAAWA,OAAAA,EAAoaqB,CAAE,CAACC,QAAQ7B,EAAE8B,kBAAkBvB,EAAEkB,KAAKX,EAAEkB,SAAS/B,IAA1c8B,SAAE/B,GAAO,IAAA,IAAIC,EAAED,EAAE6B,QAAQtB,EAAEP,EAAE8B,kBAAkBF,EAAE5B,EAAEyB,KAAKM,EAAE/B,EAAEgC,SAASlB,OAAE,EAAOmB,EAAEL,EAAEnB,OAAO,EAAEwB,GAAG,EAAEA,IAAI,CAAKC,IAAAA,EAAEC,SAASP,EAAEK,GAAG,IAAIF,GAAGG,IAAIpB,EAAEb,EAAEyB,QAAQQ,GAAGE,EAAEtB,EAAEP,IAAWA,OAAAA,EAA4SwB,CAAE,CAACF,QAAQ7B,EAAE8B,kBAAkBvB,EAAEkB,KAAKX,EAAEkB,SAAS/B,IAAagC,SAAAA,EAAEjC,GAAUc,OAAAA,EAAEd,GAAGmB,QAAiBe,SAAAA,EAAElC,GAAUc,OAAAA,EAAEd,GAAGqB,OAAgBgB,SAAAA,EAAErC,GAAOC,IAAAA,IAAIO,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAGD,EAAE0B,EAAEjC,GAAG4B,EAAEM,EAAElC,GAAGsB,EAAES,EAAE,IAAIxB,EAAK,IAACN,EAAE,OAAO8B,EAAK,GAAA,IAAIxB,EAAE,MAAM,OAAWO,IAAAA,EAAE,KAAQ,GAAA,iBAAiBc,EAAE,CAAKS,IAAAA,EAAEC,WAAWV,GAAGd,EAAEc,EAAEW,QAAQF,EAAE,IAAIT,EAAES,EAAST,OAAAA,GAAGrB,EAAE,GAAGqB,EAAErB,EAAE,MAAMO,EAAEiB,EAAEH,EAAE,IAAI,QAAQG,EAAE,OAAOH,EAAEd,EAAE,IAAa0B,SAAAA,EAAExC,EAAEC,GAAOM,IAAmBwB,EAAnBxB,EAAE0B,EAAEjC,EAAE6B,SAASD,EAAE,EAAWd,OAAE,EAAU,GAAA,KAAMb,EAAE,OAAO,EAAuBuC,IAAAA,EAAE,KAAQ,GAAA,iBAA/B1B,EAAEoB,EAAElC,EAAE6B,SAASP,GAAmC,CAAKmB,IAAAA,EAAEH,WAAWxB,EAAE,IAAI0B,EAAE1B,EAAEyB,QAAQE,EAAE,IAAI3B,EAAE2B,EAASV,OAAAA,GAAGjB,GAAGP,EAAE,GAAGO,EAAEP,IAAIN,EAAE,GAAG2B,GAAGS,EAAErC,EAAE6B,SAAQ,IAAK5B,EAAE,GAAG,MAAMuC,EAAEZ,EAAEG,EAAE,IAAI,QAAQH,EAAE,OAAOG,EAAES,EAAE,IAAaC,SAAAA,EAAEzC,GAAOC,IAAAA,EAAE,EAAEM,EAAEP,EAAEgB,UAAUY,EAAE5B,EAAE0C,KAAKC,EAAEf,EAAE,SAAS5B,GAAGC,EAAED,EAAEC,EAAED,EAAEC,IAAIM,EAAEqC,MAAMC,OAAO5C,EAAE,KAA67B6C,IAAAA,EAAE,SAAS9C,EAAEC,EAAEM,GAAM,KAAE,gBAAgBP,GAAG,OAAO,IAAIA,EAAEC,EAAEM,GAAMN,GAAAA,GAAGA,EAAE8C,SAAS,OAAO9C,EAAKA,GAAAA,EAAEA,EAAEsC,QAAQ,OAAO,IAAIA,QAAQ,OAAO,IAAIhC,EAAE,OAAO,KAAKyC,MAAM/C,EAAEM,GAAO,IAAA,IAAIqB,KAAK,KAAKqB,UAAU,GAAG1C,EAAEqB,EAAEsB,MAAM,KAAK,IAAIC,OAAO5C,EAAE,GAAGA,EAAE,IAAI6C,KAAKnD,GAAG,OAAO,KAAKgD,UAAUrB,GAAG3B,GAAU,OAAA,KAAK+C,MAAM/C,IAAI6C,EAAEO,UAAUL,MAAM,SAAShD,EAAEC,GAAS,OAACA,GAAGqD,UAAUC,iBAAiBvD,IAAI8C,EAAEO,UAAUJ,UAAU,GAAGH,EAAEO,UAAUJ,UAAU,eAAe,SAASjD,GAAUsD,OAAAA,SAASE,uBAAuBxD,EAAEyD,UAAU,KAAKX,EAAEO,UAAUJ,UAAU,SAAS,SAASjD,GAAUsD,OAAAA,SAASI,qBAAqB1D,IAAI8C,EAAEO,UAAUJ,UAAU,eAAe,SAASjD,GAAUsD,OAAAA,SAASK,eAAe3D,EAAEyD,UAAU,KAASd,IAAAA,EAAE,SAAS3C,EAAEC,GAAO,IAAA,IAAIM,EAAEP,EAAES,OAAOmB,EAAErB,EAAEA,KAAKN,EAAED,EAAE4B,EAAErB,EAAE,KAAKqD,EAAE,WAAe5D,IAAAA,EAAEQ,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAQqD,KAAAA,SAAQ,EAAG,KAAKC,OAAO,GAAG,KAAKC,IAAI/D,IAAI4D,EAAEP,UAAUW,IAAI,WAAc,IAAC,KAAKH,SAAS,KAAKC,OAAOrD,OAAO,EAAE,CAAKT,IAAAA,EAAE,KAAK8D,OAAOG,QAAaJ,KAAAA,SAAQ,EAAG7D,IAAI,KAAK6D,SAAQ,EAAG,KAAKG,QAAQJ,EAAEP,UAAUU,IAAI,WAAe/D,IAAAA,EAAE,KAAKC,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAS,QAAEP,IAAIiE,MAAMC,QAAQlE,GAAG0C,EAAE1C,EAAE,SAASA,GAAUD,OAAAA,EAAE+D,IAAI9D,MAAM,KAAK6D,OAAOM,KAAKnE,QAAQ,KAAK+D,SAASJ,EAAEP,UAAUgB,MAAM,WAAgBP,KAAAA,OAAO,IAAQQ,IAAAA,EAAE,SAAStE,GAAOC,IAAAA,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,GAAU,OAAA,KAAK+D,SAASvE,EAAE,KAAKwE,KAAKvE,EAAE,MAAMsB,EAAE,WAAevB,IAAAA,EAAEQ,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAQsD,KAAAA,OAAO,GAAG,KAAKS,SAASvE,GAAGuB,EAAE8B,UAAUoB,GAAG,WAAezE,IAAAA,EAAEQ,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGP,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAS,SAAGR,IAAIC,KAAKiE,MAAMC,QAAQ,KAAKL,OAAO9D,MAAM,KAAK8D,OAAO9D,GAAG,IAAI,KAAK8D,OAAO9D,GAAGoE,KAAKnE,KAAKsB,EAAE8B,UAAUqB,KAAK,WAAe1E,IAAAA,EAAEQ,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGP,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,GAAM,IAACR,IAAIkE,MAAMC,QAAQ,KAAKL,OAAO9D,IAAI,OAAM,EAAOO,IAAAA,EAAE,IAAI+D,EAAE,KAAKC,SAAStE,GAAG0C,EAAE,KAAKmB,OAAO9D,GAAG,SAASA,GAAUA,OAAAA,EAAEO,MAAUoE,IAAAA,EAAE,SAAS3E,GAAS,QAAE,kBAAkBA,GAAGA,EAAE4E,cAAc5E,EAAE6E,eAAe,IAAI7E,EAAE8E,MAAM9E,EAAE6C,SAAS,GAAsZkC,EAAE,SAAS/E,EAAEO,GAAOqB,IAAAA,EAAEpB,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAUP,OAAhgKA,SAAED,EAAEC,GAAO,IAAA,IAAIM,EAAEP,EAAES,OAAOmB,EAAErB,EAAEwB,EAAE,GAAGxB,KAAKwB,EAAEqC,KAAKnE,EAAED,EAAE4B,EAAErB,EAAE,KAAYwB,OAAAA,EAA67J9B,CAAEM,EAAE,SAASN,GAAU+E,OAA7f,SAAShF,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAU,OAAA,IAAIG,QAAQ,SAASX,EAAEO,GAAMN,GAAAA,EAAEgF,SAAS,OAAON,EAAE1E,GAAGD,EAAEC,GAAGM,EAAEN,GAAGA,EAAEiF,iBAAiB,OAAO,WAAkBP,OAAAA,EAAE1E,GAAGD,EAAEC,GAAGM,EAAEN,KAAKA,EAAEiF,iBAAiB,QAAQ,WAAkB3E,OAAAA,EAAEN,OAAOkF,KAAK,SAASlF,GAAGM,GAAGP,EAAE0E,KAAK1E,EAAEoF,UAAUC,iBAAiB,CAACC,IAAIrF,MAAMsF,MAAM,SAAStF,GAAUD,OAAAA,EAAE0E,KAAK1E,EAAEoF,UAAUI,kBAAkB,CAACF,IAAIrF,MAAmH+E,CAAEhF,EAAEC,EAAE2B,MAAMhB,EAAE,SAASZ,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAUG,OAAAA,QAAQ8E,IAAIV,EAAE/E,EAAEC,EAAEM,IAAI4E,KAAK,WAAWnF,EAAE0E,KAAK1E,EAAEoF,UAAUM,yBAAyBC,EAAE,SAAS1F,GAAUD,OAApzKA,SAAEA,EAAEC,GAAOM,IAAAA,OAAE,EAAc,OAAA,WAAWA,GAAGqF,aAAarF,GAAGA,EAAEsF,WAAW7F,EAAEC,IAA4uKD,CAAE,WAAWC,EAAEyE,KAAKzE,EAAEmF,UAAUU,cAAc7F,EAAE8F,MAAMhC,IAAI,WAAkB9D,OAAAA,EAAEY,aAAY,GAAG,MAAO,MAAyrBmF,EAAE,SAAShG,IAA5rB,SAASA,GAAMA,GAAAA,EAAEgB,UAAU8B,EAAE9C,EAAE6B,QAAQb,WAAWhB,EAAEgB,qBAAqB8B,IAAI9C,EAAEgB,UAAU,QAAQhB,EAAE6B,QAAQoE,OAAOC,QAAQC,MAAM,8BAA8BnG,EAAEgB,UAAUP,SAAST,EAAEgB,UAAUhB,EAAEgB,UAAU,IAAIhB,EAAE6B,QAAQb,UAAUhB,EAAEgB,UAAUhB,EAAEgB,UAAU4B,MAAMwD,SAAS,YAAqbC,CAAErG,GAAza,SAASA,GAAGA,EAAE+F,MAAM,IAAInC,EAAE5D,EAAE8D,OAAO,IAAIvC,EAAEvB,GAAGA,EAAE0C,KAAK,GAAG1C,EAAEsG,QAAQX,EAAE3F,GAA0WuG,CAAEvG,GAAtW,SAASA,GAAOC,IAAAA,EAAE6C,EAAE,MAAM9C,EAAEgB,WAAWN,OAAOwE,iBAAiB,SAASlF,EAAEsG,SAAStG,EAAEyE,GAAGzE,EAAEoF,UAAUC,iBAAiB,WAAkBrF,OAAAA,EAAEa,aAAY,GAAG,KAAMb,EAAEyE,GAAGzE,EAAEoF,UAAUM,qBAAqB,WAAkB1F,OAAAA,EAAEa,aAAY,GAAG,KAAMb,EAAE6B,QAAQ2E,mBAAmBjG,EAAEP,EAAEC,GAAGD,EAAE6B,QAAQ4E,eAAezG,EAAE0E,KAAK1E,EAAEoF,UAAUsB,mBAA4CC,CAAE3G,IAAIoB,EAAE,SAASpB,GAAUA,OAAAA,IAAIwB,OAAOxB,IAAI,mBAAmBwB,OAAO6B,UAAUuD,SAASC,KAAK7G,IAAIoC,EAAE,SAASpC,EAAEC,GAAGmB,EAAEpB,KAAKC,EAAEkB,QAAQnB,GAAGoB,EAAEpB,IAAIA,EAAEmB,UAAUlB,EAAEkB,QAAQnB,EAAEmB,SAASC,EAAEpB,IAAIA,EAAEqB,SAASD,EAAEpB,EAAEqB,UAAUpB,EAAEoB,OAAO,CAACC,EAAEtB,EAAEqB,OAAOE,EAAEvB,EAAEqB,SAASD,EAAEpB,IAAIA,EAAEqB,QAAQD,EAAEpB,EAAEqB,SAASrB,EAAEqB,OAAOC,IAAIrB,EAAEoB,OAAOC,EAAEtB,EAAEqB,OAAOC,GAAGF,EAAEpB,IAAIA,EAAEqB,QAAQD,EAAEpB,EAAEqB,SAASrB,EAAEqB,OAAOE,IAAItB,EAAEoB,OAAOE,EAAEvB,EAAEqB,OAAOE,IAAIuF,EAAE,SAAS9G,EAAEC,GAAUS,OAAAA,OAAOqG,iBAAiB/G,EAAE,MAAMgH,iBAAiB/G,IAAIgH,EAAE,SAASjH,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAMR,GAAAA,EAAEkH,UAAUlH,EAAEkH,QAAQ,GAAGlH,EAAE0C,KAAKjC,OAAO,IAAIF,GAAE,GAAIA,EAAE,CAACP,EAAE0C,KAAK,GAAG1C,EAAEmH,KAAK,GAAGnH,EAAEkH,QAAQ,EAAM,IAAA,IAAItF,EAAE3B,EAAE,EAAE2B,GAAG,EAAEA,IAAI5B,EAAE0C,KAAKd,GAAG,EAAE5B,EAAEmH,KAAKvF,GAAGY,EAAExC,EAAE4B,QAAQ,GAAG5B,EAAEoH,QAAQ,CAACpH,EAAE0C,KAAK,GAAO,IAAId,EAAE3B,EAAE,EAAE2B,GAAG,EAAEA,IAAI5B,EAAE0C,KAAKd,GAAG5B,EAAEoH,QAAQxF,OAAO,CAAC5B,EAAEoH,QAAQ,GAAO,IAAIxF,EAAE3B,EAAE,EAAE2B,GAAG,EAAEA,IAAI5B,EAAEoH,QAAQxF,GAAG5B,EAAE0C,KAAKd,KAAKyF,EAAE,SAASrH,GAAOC,IAAAA,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGD,IAAIC,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAGoB,EAAE3B,EAAED,EAAEgB,UAAUsG,SAASxE,EAAE,2CAA2C9C,EAAEgB,WAAWY,EAAEsC,MAAMqD,KAAK3F,GAAG4F,OAAO,SAASxH,GAAU,OAAA,OAAOA,EAAEyH,eAAmB1F,IAAAA,EAAEM,EAAErC,EAAE6B,SAAgBc,OAAAA,EAAEf,EAAE,SAAS5B,GAAGC,IAAID,EAAE0H,QAAQC,aAAa,GAAG3H,EAAE4C,MAAMkC,MAAM/C,IAAI/B,EAAE6B,QAAQ+F,WAAhqKC,SAAE7H,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGoB,IAAIpB,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAGuB,EAAEE,EAAEjC,EAAE6B,SAASf,EAAEoB,EAAElC,EAAE6B,SAASN,EAAE0F,EAAEjH,EAAE+B,EAAExB,GAAGoC,EAAE1C,EAAE,SAASA,GAAGD,EAAEkH,UAAUnF,IAAI/B,EAAEkH,QAAQ,GAAO3G,IAAAA,EAAEuG,EAAE7G,EAAE,UAAUM,EAAE4B,SAASlC,EAAE6H,aAAa,IAAIC,MAAMxH,KAAKN,EAAE2C,MAAMwD,SAAS,WAAWnG,EAAE2C,MAAMoF,IAAIhI,EAAE0C,KAAK1C,EAAEkH,SAAS,KAAKjH,EAAE2C,MAAMqF,KAAK,GAAGjI,EAAEmH,KAAKnH,EAAEkH,SAASlH,EAAE0C,KAAK1C,EAAEkH,UAAUa,MAAMxH,GAAG,EAAEA,EAAEO,EAAEd,EAAEkH,SAAS,EAAEtF,IAAI3B,EAAEyH,QAAQC,aAAa,MAAM/F,IAAI5B,EAAEoH,QAAQ,MAAM3E,EAAEzC,GAA+sJ6H,CAAE7H,EAAE4B,EAAE3B,EAAEM,GAAGP,EAAE0E,KAAK1E,EAAEoF,UAAU8C,sBAArpLC,SAAEnI,EAAEC,GAAOM,IAAAA,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGoB,IAAIpB,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAGuB,EAAEE,EAAEjC,EAAE6B,SAASf,EAAEoB,EAAElC,EAAE6B,SAASN,EAAE0F,EAAEjH,EAAE+B,EAAExB,GAAGoC,EAAE1C,EAAE,SAASA,GAAOM,IAAAA,EAAE,EAAEwB,EAAEI,SAASlC,EAAE6H,aAAa,IAAIC,MAAMhG,KAAK/B,EAAE0C,KAAK0F,QAAQ,SAASnI,EAAE2B,GAAG3B,EAAED,EAAE0C,KAAKnC,KAAKA,EAAEqB,KAAK3B,EAAE2C,MAAMwD,SAAS,WAAWnG,EAAE2C,MAAMoF,IAAIhI,EAAE0C,KAAKnC,GAAG,KAAKN,EAAE2C,MAAMqF,KAAK,GAAGjI,EAAEmH,KAAK5G,GAAGP,EAAE0C,KAAKnC,IAAIwH,MAAMhG,GAAG,EAAEA,EAAEjB,EAAEc,IAAI3B,EAAEyH,QAAQC,aAAa,MAAM/F,IAAI5B,EAAEoH,QAAQ,MAAM3E,EAAEzC,GAA2uKmI,CAAEnI,EAAE4B,EAAE3B,EAAEM,GAAGP,EAAE0E,KAAK1E,EAAEoF,UAAU8C,sBAA2D5G,EAAEE,OAAO6G,QAAQ,SAASrI,GAAO,IAAA,IAAIC,EAAE,EAAEA,EAAEO,UAAUC,OAAOR,IAAI,CAAKM,IAAAA,EAAEC,UAAUP,GAAO,IAAA,IAAI2B,KAAKrB,EAAEiB,OAAO6B,UAAUiF,eAAezB,KAAKtG,EAAEqB,KAAK5B,EAAE4B,GAAGrB,EAAEqB,IAAW5B,OAAAA,GAAGkE,MAAMqD,OAAOrD,MAAMqD,KAAK,SAASvH,GAAO,IAAA,IAAIC,EAAE,EAAEM,EAAE,GAAGN,EAAED,EAAES,QAAQF,EAAE6D,KAAKpE,EAAEC,MAAaM,OAAAA,IAAQgI,IAAAA,EAAE,CAACpH,QAAQ,EAAEE,OAAO,EAAEuG,WAAU,EAAGnB,eAAc,EAAG+B,gBAAe,EAAG9G,QAAQ,GAAG8E,mBAAkB,EAAGiC,QAAO,EAAGC,cAAa,EAAG3H,4BAA2B,IAAK,WAAc,IAACuC,SAASqF,cAAc,KAAKC,cAAc,YAAY,MAAM5I,IAAI,WAAoBA,SAAAA,EAAEA,GAAU,OAAA,SAASO,GAAMA,GAAAA,GAAGN,EAAEmD,KAAK7C,GAAG,CAAKqB,IAAAA,EAAE,KAAKiH,aAAa,MAAMjH,IAAI,KAAKkH,GAAG,IAAIC,KAAKC,MAAM,IAAID,KAAKE,UAAU,KAAKzI,UAAU,GAAGD,EAAEgC,QAAQtC,EAAE,IAAI,KAAK6I,IAAQ/G,IAAAA,EAAE/B,EAAEkJ,MAAM,KAAK1I,WAAkB,OAAA,OAAOoB,EAAE,KAAKuH,gBAAgB,MAAMvH,IAAI,KAAKkH,GAAGlH,GAAGG,EAAS/B,OAAAA,EAAEkJ,MAAM,KAAK1I,YAAgBP,IAAAA,EAAE,aAAaM,EAAEP,EAAEoJ,QAAQ/F,UAAUuF,eAAeQ,QAAQ/F,UAAUuF,cAAc,SAAS5I,GAAUO,OAAAA,EAAE2I,MAAM,KAAK1I,YAAgBoB,IAAAA,EAAE5B,EAAEoJ,QAAQ/F,UAAUE,kBAAkB6F,QAAQ/F,UAAUE,iBAAiB,SAASvD,GAAU4B,OAAAA,EAAEsH,MAAM,KAAK1I,YAAjiB,IAA/E,GAAuoB6I,IAAAA,EAAE,SAASrJ,IAAQC,IAAAA,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG+H,EAAK,KAAE,gBAAgBvI,GAAG,OAAO,IAAIA,EAAEC,GAAQ4B,KAAAA,QAAQ,GAAGP,EAAE,KAAKO,QAAQ0G,EAAEtI,GAAG,KAAK4B,QAAQ6G,eAAjuChI,OAAOC,SAA8uCqF,EAAE,OAAcqD,OAAAA,EAAEC,KAAK,SAAStJ,GAAUkG,OAAAA,QAAQqD,KAAK,iHAAiH,IAAIF,EAAErJ,IAAIqJ,EAAEhG,UAAUmG,uBAAuB,WAAexJ,IAAAA,EAAEQ,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAUD,OAAAA,EAAE,KAAKuC,EAAE,MAAM,KAAK9B,YAAYhB,IAAIqJ,EAAEhG,UAAUoG,eAAe,SAASzJ,GAAOC,IAAAA,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGoB,EAAEkB,EAAE,MAAM,KAAK9B,WAAkB,OAAA,KAAKyD,GAAG,KAAKW,UAAUM,qBAAqB1F,GAAGC,GAAG,KAAKwE,GAAG,KAAKW,UAAUC,iBAAiBrF,GAAGO,EAAE,KAAKqB,EAAE3B,IAAIoJ,EAAEhG,UAAUxC,YAAY,WAAeb,IAAAA,EAAE,KAAKC,EAAEO,UAAUC,OAAO,QAAG,IAASD,UAAU,IAAIA,UAAU,GAAGD,IAAIC,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAUD,OAAAA,GAAG,KAAKwF,MAAM1B,QAAQ,KAAK0B,MAAMhC,IAAI,WAAkBsD,OAAAA,EAAErH,EAAEC,EAAEM,MAAM8I,EAAEhG,UAAUqG,OAAO,WAAWhJ,OAAOiJ,oBAAoB,SAAS,KAAKrD,SAAS3D,EAAE,KAAK3B,UAAUsG,SAAS,SAAStH,GAAGA,EAAEmJ,gBAAgB,sBAAsBnJ,EAAEmJ,gBAAgB,WAAW,KAAKnI,UAAUmI,gBAAgB,UAAUE,EAAEhG,UAAUuG,OAAO,WAAgB/I,KAAAA,aAAY,GAAG,GAAI,KAAK6D,KAAK,KAAKU,UAAUsB,mBAAmBhG,OAAOwE,iBAAiB,SAAS,KAAKoB,SAAS,KAAKtF,UAAU4B,MAAMwD,SAAS,YAAYiD,EAAEhG,UAAUoB,GAAG,SAASzE,EAAEC,GAAQ6D,KAAAA,OAAOW,GAAGzE,EAAEC,IAAIoJ,EAAEhG,UAAUqB,KAAK,SAAS1E,EAAEC,GAAQ6D,KAAAA,OAAOY,KAAK1E,EAAEC,IAAIoJ,EAAEjE,UAAU,CAACsB,kBAAkB,mBAAmBwB,mBAAmB,oBAAoB7C,iBAAiB,kBAAkBG,kBAAkB,mBAAmBE,qBAAqB,uBAAuBI,aAAa,eAAeuD,EAAEhG,UAAU+B,UAAUiE,EAAEjE,UAAUiE","file":"macy.4a7c549e.js","sourceRoot":"../src","sourcesContent":["!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.Macy=n()}(this,function(){\"use strict\";function t(t,n){var e=void 0;return function(){e&&clearTimeout(e),e=setTimeout(t,n)}}function n(t,n){for(var e=t.length,r=e,o=[];e--;)o.push(n(t[r-e-1]));return o}function e(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(window.Promise)return A(t,n,e);t.recalculate(!0,!0)}function r(t){for(var n=t.options,e=t.responsiveOptions,r=t.keys,o=t.docWidth,i=void 0,s=0;s<r.length;s++){var a=parseInt(r[s],10);o>=a&&(i=n.breakAt[a],O(i,e))}return e}function o(t){for(var n=t.options,e=t.responsiveOptions,r=t.keys,o=t.docWidth,i=void 0,s=r.length-1;s>=0;s--){var a=parseInt(r[s],10);o<=a&&(i=n.breakAt[a],O(i,e))}return e}function i(t){var n=t.useContainerForBreakpoints?t.container.clientWidth:window.innerWidth,e={columns:t.columns};b(t.margin)?e.margin={x:t.margin.x,y:t.margin.y}:e.margin={x:t.margin,y:t.margin};var i=Object.keys(t.breakAt);return t.mobileFirst?r({options:t,responsiveOptions:e,keys:i,docWidth:n}):o({options:t,responsiveOptions:e,keys:i,docWidth:n})}function s(t){return i(t).columns}function a(t){return i(t).margin}function c(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=s(t),r=a(t).x,o=100/e;if(!n)return o;if(1===e)return\"100%\";var i=\"px\";if(\"string\"==typeof r){var c=parseFloat(r);i=r.replace(c,\"\"),r=c}return r=(e-1)*r/e,\"%\"===i?o-r+\"%\":\"calc(\"+o+\"% - \"+r+i+\")\"}function u(t,n){var e=s(t.options),r=0,o=void 0,i=void 0;if(1===++n)return 0;i=a(t.options).x;var u=\"px\";if(\"string\"==typeof i){var l=parseFloat(i,10);u=i.replace(l,\"\"),i=l}return o=(i-(e-1)*i/e)*(n-1),r+=c(t.options,!1)*(n-1),\"%\"===u?r+o+\"%\":\"calc(\"+r+\"% + \"+o+u+\")\"}function l(t){var n=0,e=t.container,r=t.rows;v(r,function(t){n=t>n?t:n}),e.style.height=n+\"px\"}function p(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=s(t.options),i=a(t.options).y;M(t,o,e),v(n,function(n){var e=0,o=parseInt(n.offsetHeight,10);isNaN(o)||(t.rows.forEach(function(n,r){n<t.rows[e]&&(e=r)}),n.style.position=\"absolute\",n.style.top=t.rows[e]+\"px\",n.style.left=\"\"+t.cols[e],t.rows[e]+=isNaN(o)?0:o+i,r&&(n.dataset.macyComplete=1))}),r&&(t.tmpRows=null),l(t)}function f(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=s(t.options),i=a(t.options).y;M(t,o,e),v(n,function(n){t.lastcol===o&&(t.lastcol=0);var e=C(n,\"height\");e=parseInt(n.offsetHeight,10),isNaN(e)||(n.style.position=\"absolute\",n.style.top=t.rows[t.lastcol]+\"px\",n.style.left=\"\"+t.cols[t.lastcol],t.rows[t.lastcol]+=isNaN(e)?0:e+i,t.lastcol+=1,r&&(n.dataset.macyComplete=1))}),r&&(t.tmpRows=null),l(t)}var h=function t(n,e){if(!(this instanceof t))return new t(n,e);if(n&&n.nodeName)return n;if(n=n.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\"),e)return this.byCss(n,e);for(var r in this.selectors)if(e=r.split(\"/\"),new RegExp(e[1],e[2]).test(n))return this.selectors[r](n);return this.byCss(n)};h.prototype.byCss=function(t,n){return(n||document).querySelectorAll(t)},h.prototype.selectors={},h.prototype.selectors[/^\\.[\\w\\-]+$/]=function(t){return document.getElementsByClassName(t.substring(1))},h.prototype.selectors[/^\\w+$/]=function(t){return document.getElementsByTagName(t)},h.prototype.selectors[/^\\#[\\w\\-]+$/]=function(t){return document.getElementById(t.substring(1))};var v=function(t,n){for(var e=t.length,r=e;e--;)n(t[r-e-1])},m=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.running=!1,this.events=[],this.add(t)};m.prototype.run=function(){if(!this.running&&this.events.length>0){var t=this.events.shift();this.running=!0,t(),this.running=!1,this.run()}},m.prototype.add=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!n&&(Array.isArray(n)?v(n,function(n){return t.add(n)}):(this.events.push(n),void this.run()))},m.prototype.clear=function(){this.events=[]};var d=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance=t,this.data=n,this},y=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.events={},this.instance=t};y.prototype.on=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!t||!n)&&(Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(n))},y.prototype.emit=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!Array.isArray(this.events[t]))return!1;var e=new d(this.instance,n);v(this.events[t],function(t){return t(e)})};var g=function(t){return!(\"naturalHeight\"in t&&t.naturalHeight+t.naturalWidth===0)||t.width+t.height!==0},E=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,e){if(n.complete)return g(n)?t(n):e(n);n.addEventListener(\"load\",function(){return g(n)?t(n):e(n)}),n.addEventListener(\"error\",function(){return e(n)})}).then(function(n){e&&t.emit(t.constants.EVENT_IMAGE_LOAD,{img:n})}).catch(function(n){return t.emit(t.constants.EVENT_IMAGE_ERROR,{img:n})})},w=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(e,function(n){return E(t,n,r)})},A=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all(w(t,n,e)).then(function(){t.emit(t.constants.EVENT_IMAGE_COMPLETE)})},I=function(n){return t(function(){n.emit(n.constants.EVENT_RESIZE),n.queue.add(function(){return n.recalculate(!0,!0)})},100)},N=function(t){if(t.container=h(t.options.container),t.container instanceof h||!t.container)return!!t.options.debug&&console.error(\"Error: Container not found\");t.container.length&&(t.container=t.container[0]),t.options.container=t.container,t.container.style.position=\"relative\"},T=function(t){t.queue=new m,t.events=new y(t),t.rows=[],t.resizer=I(t)},L=function(t){var n=h(\"img\",t.container);window.addEventListener(\"resize\",t.resizer),t.on(t.constants.EVENT_IMAGE_LOAD,function(){return t.recalculate(!1,!1)}),t.on(t.constants.EVENT_IMAGE_COMPLETE,function(){return t.recalculate(!0,!0)}),t.options.useOwnImageLoader||e(t,n,!t.options.waitForImages),t.emit(t.constants.EVENT_INITIALIZED)},_=function(t){N(t),T(t),L(t)},b=function(t){return t===Object(t)&&\"[object Array]\"!==Object.prototype.toString.call(t)},O=function(t,n){b(t)||(n.columns=t),b(t)&&t.columns&&(n.columns=t.columns),b(t)&&t.margin&&!b(t.margin)&&(n.margin={x:t.margin,y:t.margin}),b(t)&&t.margin&&b(t.margin)&&t.margin.x&&(n.margin.x=t.margin.x),b(t)&&t.margin&&b(t.margin)&&t.margin.y&&(n.margin.y=t.margin.y)},C=function(t,n){return window.getComputedStyle(t,null).getPropertyValue(n)},M=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.lastcol||(t.lastcol=0),t.rows.length<1&&(e=!0),e){t.rows=[],t.cols=[],t.lastcol=0;for(var r=n-1;r>=0;r--)t.rows[r]=0,t.cols[r]=u(t,r)}else if(t.tmpRows){t.rows=[];for(var r=n-1;r>=0;r--)t.rows[r]=t.tmpRows[r]}else{t.tmpRows=[];for(var r=n-1;r>=0;r--)t.tmpRows[r]=t.rows[r]}},V=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?t.container.children:h(':scope > *:not([data-macy-complete=\"1\"])',t.container);r=Array.from(r).filter(function(t){return null!==t.offsetParent});var o=c(t.options);return v(r,function(t){n&&(t.dataset.macyComplete=0),t.style.width=o}),t.options.trueOrder?(f(t,r,n,e),t.emit(t.constants.EVENT_RECALCULATED)):(p(t,r,n,e),t.emit(t.constants.EVENT_RECALCULATED))},R=function(){return!!window.Promise},x=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Array.from||(Array.from=function(t){for(var n=0,e=[];n<t.length;)e.push(t[n++]);return e});var k={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};!function(){try{document.createElement(\"a\").querySelector(\":scope *\")}catch(t){!function(){function t(t){return function(e){if(e&&n.test(e)){var r=this.getAttribute(\"id\");r||(this.id=\"q\"+Math.floor(9e6*Math.random())+1e6),arguments[0]=e.replace(n,\"#\"+this.id);var o=t.apply(this,arguments);return null===r?this.removeAttribute(\"id\"):r||(this.id=r),o}return t.apply(this,arguments)}}var n=/:scope\\b/gi,e=t(Element.prototype.querySelector);Element.prototype.querySelector=function(t){return e.apply(this,arguments)};var r=t(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(t){return r.apply(this,arguments)}}()}}();var q=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;if(!(this instanceof t))return new t(n);this.options={},x(this.options,k,n),this.options.cancelLegacy&&!R()||_(this)};return q.init=function(t){return console.warn(\"Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) \"),new q(t)},q.prototype.recalculateOnImageLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e(this,h(\"img\",this.container),!t)},q.prototype.runOnImageLoad=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=h(\"img\",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,t),n&&this.on(this.constants.EVENT_IMAGE_LOAD,t),e(this,r,n)},q.prototype.recalculate=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&this.queue.clear(),this.queue.add(function(){return V(t,n,e)})},q.prototype.remove=function(){window.removeEventListener(\"resize\",this.resizer),v(this.container.children,function(t){t.removeAttribute(\"data-macy-complete\"),t.removeAttribute(\"style\")}),this.container.removeAttribute(\"style\")},q.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener(\"resize\",this.resizer),this.container.style.position=\"relative\"},q.prototype.on=function(t,n){this.events.on(t,n)},q.prototype.emit=function(t,n){this.events.emit(t,n)},q.constants={EVENT_INITIALIZED:\"macy.initialized\",EVENT_RECALCULATED:\"macy.recalculated\",EVENT_IMAGE_LOAD:\"macy.image.load\",EVENT_IMAGE_ERROR:\"macy.image.error\",EVENT_IMAGE_COMPLETE:\"macy.images.complete\",EVENT_RESIZE:\"macy.resize\"},q.prototype.constants=q.constants,q});\n"]}